"""
Complete Embedding Configuration Model.

This model defines the complete embedding configuration including
primary provider, fallback chain, and cloud fallback options.
"""

from pydantic import BaseModel, Field
from typing import List, Literal
from omnibase.model.embedding.model_embedding_provider_config import model_EmbeddingProviderConfig


class model_EmbeddingConfig(BaseModel):
    """Complete embedding configuration with fallback chain."""

    primary_provider: model_EmbeddingProviderConfig = Field(
        description="Primary embedding provider to use"
    )

    fallback_providers: List[model_EmbeddingProviderConfig] = Field(
        description="Ordered list of fallback providers",
        default_factory=list
    )

    cloud_fallback_provider: Literal["gemini", "openai", "disabled"] = Field(
        description="Cloud provider to use as final fallback",
        default="gemini"
    )

    max_retry_attempts: int = Field(
        description="Maximum number of retry attempts per provider",
        default=3,
        ge=1
    )

    connection_timeout_seconds: int = Field(
        description="Connection timeout for embedding requests",
        default=30,
        ge=1
    )
